<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Review Page</title>
    <style>
        html,
        body,
        #map-canvas {
            height: 100%;
            margin: 0px;
            padding: 0px
        }
    ​
        .firstheading {
            text-align: center;
            color: cornflowerblue;
            font-weight: bold;
            font-family: monospace;
            font-size: 25px
        }
    ​
        .upvote_button {
            font-size: 16px;
            font-family: lucida grande, tahoma, verdana, arial, sans-serif;
            float: left;
            border-radius: 5px;
        }
    ​
        .downvote_button {
            font-size: 16px;
            font-family: lucida grande, tahoma, verdana, arial, sans-serif;
            float: right;
            border-radius: 5px;
        }
    ​
        .fa.fa-thumbs-up.upvote {
            font-size: 16px;
            color: green
        }
    ​
        .fa.fa-thumbs-up.downvote {
            font-size: 16px;
            color: red
        }
    ​
        .video_iframe {
            width=512px;
            height=256px;
            border-radius: 10px
        }
    </style>
</head>
<script src="https://cdn.jsdelivr.net/npm/hls.js@0.8.2"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=initialize"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script>
    function updateVotes(clicked_asset_id, clicked_class){
            if(clicked_class == 'upvote_button'){
                console.log("You clicked upvote!");
                console.log(clicked_class);
                console.log(clicked_asset_id);
            }
            else{
                console.log("You clicked downvote!");
                console.log(clicked_class);
                console.log(clicked_asset_id);
            }
        }
</script>
<script type="module">
    function initialize() {
        var mapOptions = {
            zoom: 4,
            center: new google.maps.LatLng(0, 0)
        };
        // var video_urls = ['https://www.youtube.com/embed/7RP3g9avaHc', 'https://www.youtube.com/embed/fewGmJd0q94', 'https://www.youtube.com/embed/Uai1tsLSNxc'];
        // var video_asset_ids = [1232, 3727, 4738];
        // var video_captions = ['Wow', 'Good', 'Bad'];
        // var upvotes = [100, 200, 300];
        // var downvotes = [50, 150, 20];
        var marker_hash = [];
        var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
        var infowindow;
        var marker, i, contentString;
        console.log("Hello", videos)
        for (const key in videos) {
            if (videos.hasOwnProperty(key)) {
                const element = videos[key];
                console.log("hello")
                
            }
        }
        // for (i = 0; i < videos.length; i++) {
            
        //     marker = new google.maps.Marker({
        //         position: new google.maps.LatLng(videos[i].location.split(",")[0], videos[i].location.split(",")[1]),
        //         map: map,
        //         title: 'Click Me!'
        //     });
        //     marker_hash[videos[i].videoAssetId] = marker;
        //     google.maps.event.addListener(marker, 'click', (function(marker, i) {
        //         return function() {
        //             contentString = '<div class="content">' +
        //                 '<div class="siteNotice">' +
        //                 '</div>' +
        //                 '<h2 class="firstHeading">' + videos[i].captions + '</h2>' +
        //                 '<div class="bodyContent">' +
        //                 '<iframe class="video_iframe" src="https://stream.mux.com/"'+ videos[i].videoPlaybackId+'".m3u8 frameborder="0"></iframe><br><br>' +
        //                 '<button class="upvote_button" onclick="updateVotes(' + videos[i].videoAssetId + ', \'upvote_button\')">Upvotes ' + videos[i].upvotes + ' <i class="fa fa-thumbs-up upvote"></i></button>' +
        //                 '<button class="downvote_button" onclick="updateVotes('+ videos[i].videoAssetId + ', \'downvote_button\')">Downvotes ' + videos[i].downvotes + ' <i class="fa fa-thumbs-up downvote"></i></button>' +
        //                 '</div>' +
        //                 '</div>';
        //             infowindow = new google.maps.InfoWindow({
        //                 content: contentString
        //             });
        //             infowindow.open(map, marker);
        //         }
        //     })(marker, i));
        // }
    }
    console.log("ending", videos)
    console.log(google.maps)

    google.maps.event.addDomListener(window, 'load', initialize);
    console.log("ending2", videos)
</script> -->
<body>
    <div id="menu"></div>
    <div id="map-canvas"></div>
    <!-- <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdDL7_AJnw4ubgyNDrygwQSTEqngeQHUo&callback=initMap"> -->
    <!-- // </script> -->
</body>
</html>